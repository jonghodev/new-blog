---
title: OS (0) Why OS Important?
date: 2020-11-15 10:11:75
category: os
draft: false
---

OS 는 중요하다.

내가 좋아해서 수시로 보는 [포스팅](https://imasoftwareengineer.tistory.com/2)에서는 이렇게 말한다.

- (당연한 이야기지만) 우리가 만드는 프로그램은 모두 운영체제 위에서 돈다.
- 운영체제를 공부함으로써 어떤 자료구조와 알고리즘이 사용됬는지 알 수 있다.
- 소프트웨어 엔지니어로 살다보면 결국 운영체제가 해결하려 했던 것과 비슷한 문제를 경험하게 된다.
- 운영체제를 알면 큰그림을 볼 수 있게 된다.

## 소프트웨어 엔지니어로 살다보면 결국 운영체제가 해결하려 했던 것과 비슷한 문제를 경험하게 된다.

위 말에 대해서 깊게 생각을 해보자.

나는 2019년 6월에 실무 공부를 시작하고, 2019년 12월부터 회사에 취직해서 실무를 하고있고, 비교적 High-level에서 개발하고 있다.

내가 지금까지 개발해왔던 것들과, 이제 와서 OS 를 공부해보며 관련성이 있었던 것들이 있다.

지금까지 접했던 것들이 OS 가 해결하려했던 것과 비슷한 문제가 있었고, 해결방법도 실제로 비슷하다.

### 1. 로드밸런싱

로드밸런싱은 백엔드 서버에서 부하를 분산시키기 위해 사용하는 방법이다.

근대 어떤 서버에 요청을 보내줄지는 여러가지 방식있는데 Round Robin, Lease Connections, Fastest Reponse Time 같은 것들이 있다.

근대 OS 를 공부하다보니 CPU Sheduling 과 비슷한 문제를 해결하려하는 것과 같은 느낌을 받았다.

### 2. 분산시스템 간의 메시지큐

현대 시스템은 MSA 가 유행하고 있고 작고 독립된 여러개의 서비스가 뜬다. 그리고 그 서비스들끼리는 HTTP 나 메시지큐와 같은 경량의 통신을 한다.

이때 메시지큐를 사용하기 위해 RabbitMQ 나 Apache Kafka, SQS 등을 사용하곤 한다.

OS 에서는, 분산 OS 시스템에서 OS 간의 통신이 메시지를 통해 일어나거나, Process 간 통신이 일어난다. 이또한 비슷한 느낌이다.

### 3. 도커

도커는 보통 VM 과 많이 대조되며 개념 설명이 된다. 그 이유는 VM 이 해결하려는 것과 Docker 가 해결하려는 것이 비슷하기 때문이다.

우리는 하나의 서버에서 시스템을 격리하기 위해 VM 을 사용하고 그러기 위해 그 Host OS 에 여러 개의 Guest OS 를 설치해서 논리적으로 OS 를 분리해서

각각의 가상 OS 가 자신만의 Memory 와 Process 를 사용한다. 하지만 이것엔 오버헤드가 있고 Process 간에 격리를 사용한 방식이 Docker 다.

### 4. 동시성 문제

실무에서 일을 하다보면 동시성 문제를 흔치 않게 다루게 된다. 나 같은 경우 디비에서 그 문제를 겪게 되었었는데, 그 외에도 멀티 쓰레딩 개발을 하다보면 겪을 것 같다.

OS 공부를 하다보면 Process Synchronization 에 대해 공부하면서 Critical Section 에 대한 동시 자원 접근을 어떻게 OS 가 해결하는지 알 수 있다.

### 5. 쓰레드

서버를 개발하다보면 멀티 쓰레드와 싱글 쓰레드로 동작하는 서버에 대해서 알게된다.

Spring MVC 의 멀티 쓰레드 - 동기 블로킹 방식은 비효율적일 수 있다. 왜냐면 IO 가 생길 때 해당 Thread 는 Block 되고 그 Thread 는 Idle time 이 생겨 CPU 자원을 낭비하게 된다.

그리고 IO 를 Block 없이 처리하기 위해 쓰레드를 만들어서 그 쓰레드가 IO 를 처리하게 하며 진행할 수도 있는데 이것 또한 컨텍스트 스위칭이라는 문제가 발생한다.

OS 를 공부하다보면, CPU 가 IO 를 처리할 때는 해당 IO Job 은 IO Queue 에 들어가고, Scheduling 이 일어나서 바로 다른 CPU가 선택되는 식으로 상대적으로 느린 IO 시간 동안

CPU 가 Idle time 이 되는 시간을 방지한다. 이건 동기 블로킹 vs 비동기 논블로킹(이벤트루프) 와 같은 서버 처리 개념과 빗대어서 볼 수 있고

컨텍스트 스위칭도 왜 자주 일어나면 오버헤드가 발생하는지 Kernel 래벨에서 PCB 가 복사되고... 하면서 알 수 있다.

### 6. Redis

Redis 를 사용할 때는 메모리 파편화, 가상 메모리, IO Bound 와 같은 개념을 알아야 하며 이것은 OS 를 이해하면서 알 수 있는 내용들이다.

### 정리하자면

이렇게 많은 현대 소프트웨어들이 해결하려 했던 문제들은 OS 가 해결하려한 문제와 매우 유사하고. OS 를 공부함으로써 해당 문제를 접할 때 더 잘 이해하고

더 성능을 고려한 시스템을 개발할 수 있게 된다.

## 공부를 시작해보자

나는 OS 에 대한 지식이 매우 적은 상태에서 시작했고

OS 를 공부하며 점점 더 중요성을 느끼고 이 포스팅을 계속 업데이트 하고 있다.

나는 이 [블로그](https://covenant.tistory.com/100)에서 추천하는 강의를 보고 경성대학교 양희재 교수님이 수업하시는 [강의](http://www.kocw.net/home/search/kemView.do?kemId=978503)로 OS 공부를 시작한다.

> 양희재 교수님은 [블로그](http://blog.naver.com/PostList.nhn?from=postList&blogId=hjyang0&categoryNo=13&currentPage=8)에도 문제들을 정리해두신다.

## 목차

- 개요, 역사, 현대운영체제
- 프로세스 관리
  - 스케쥴링 (가장 중요하다.)
  - 동기화
- 메모리 관리
  - 페이징
  - 세그먼트
  - Virtual Memory
- 파일 관리
  - 파일 할당
  - 디스크 스케쥴링
